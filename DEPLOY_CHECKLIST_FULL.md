# ‚úÖ –ü–æ–ª–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è –Ω–∞ Vercel

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã backend + frontend

### 1. ‚úÖ –ö–æ–¥ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–ì–û–¢–û–í–û)
- [x] Frontend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Vite
- [x] Backend –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ serverless —Ñ—É–Ω–∫—Ü–∏—è
- [x] TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- [x] vercel.json –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [x] –†–æ—É—Ç–∏–Ω–≥ API —á–µ—Ä–µ–∑ /api/*

### 2. üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–¢–†–ï–ë–£–ï–¢–°–Ø –ù–ê–°–¢–†–û–ô–ö–ê)

#### –í Vercel Dashboard –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ:**
```
DATABASE_URL=postgresql://user:password@host:5432/database
JWT_SECRET=<—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å 32+ —Å–∏–º–≤–æ–ª–æ–≤>
NODE_ENV=production
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
```
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
CORS_ORIGIN=https://your-domain.vercel.app
```

#### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://vercel.com/akaikages-projects/echoes-on-tape/settings/environment-variables
2. –î–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
3. –í—ã–±–µ—Ä–∏—Ç–µ: Production, Preview, Development
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT_SECRET:
```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

### 3. üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–¢–†–ï–ë–£–ï–¢–°–Ø –ù–ê–°–¢–†–û–ô–ö–ê)

#### –í–∞—Ä–∏–∞–Ω—Ç A: Vercel Postgres (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://vercel.com/akaikages-projects/echoes-on-tape/stores
2. –ù–∞–∂–º–∏—Ç–µ "Create Database"
3. –í—ã–±–µ—Ä–∏—Ç–µ "Postgres"
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–±–ª–∏–∂–∞–π—à–∏–π)
5. –ù–∞–∂–º–∏—Ç–µ "Create"
6. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç DATABASE_URL

#### –í–∞—Ä–∏–∞–Ω—Ç B: Supabase (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://supabase.com
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Connection String (PostgreSQL)
4. –î–æ–±–∞–≤—å—Ç–µ –≤ Vercel –∫–∞–∫ DATABASE_URL

#### –í–∞—Ä–∏–∞–Ω—Ç C: Neon (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://neon.tech
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Connection String
4. –î–æ–±–∞–≤—å—Ç–µ –≤ Vercel –∫–∞–∫ DATABASE_URL

### 4. üîÑ –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–ü–û–°–õ–ï –°–û–ó–î–ê–ù–ò–Ø –ë–î)

```bash
# 1. –°–∫–∞—á–∞–π—Ç–µ production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
vercel env pull .env.production.local

# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
cd backend
npx prisma migrate deploy

# 3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
npx prisma db seed
```

### 5. üöÄ –î–µ–ø–ª–æ–π

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (–ø—Ä–∏ push –≤ main):
```bash
git push origin main
```

#### –†—É—á–Ω–æ–π:
```bash
vercel --prod
```

### 6. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

#### Frontend:
```
https://echoes-on-tape.vercel.app
```
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ù–∞–≤–∏–≥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

#### Backend API:
```
https://echoes-on-tape.vercel.app/api/
```
–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
```json
{
  "status": "ok",
  "message": "Echoes On Tape Backend is running with PostgreSQL + Prisma! üöÄ",
  "version": "2.0.0"
}
```

#### Health Check:
```
https://echoes-on-tape.vercel.app/api/health
```

#### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
```bash
curl -X POST https://echoes-on-tape.vercel.app/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "Test123!@#",
    "username": "testuser"
  }'
```

### 7. üêõ Troubleshooting

#### –û—à–∏–±–∫–∞: "Cannot find module '@prisma/client'"
**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd backend
npx prisma generate
git add -A
git commit -m "Regenerate Prisma Client"
git push
```

#### –û—à–∏–±–∫–∞: "Database connection failed"
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. DATABASE_URL –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Vercel
2. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
3. –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

**–¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:**
```bash
cd backend
npx prisma db pull
```

#### –û—à–∏–±–∫–∞: "JWT malformed" –∏–ª–∏ "Invalid token"
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. JWT_SECRET —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Vercel
2. JWT_SECRET –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –¥–ª—è –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π
3. –¢–æ–∫–µ–Ω—ã –Ω–µ –∏—Å—Ç–µ–∫–ª–∏

#### API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
1. vercel.json —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ rewrites
2. api/index.ts —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç app
3. –§—É–Ω–∫—Ü–∏—è –∑–∞–¥–µ–ø–ª–æ–∏–ª–∞—Å—å (Vercel Dashboard ‚Üí Functions)

#### Cold start (–º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å)
**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è serverless!**
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å: ~1-3 —Å–µ–∫—É–Ω–¥—ã
- –ü–æ—Å–ª–µ–¥—É—é—â–∏–µ: ~100-300ms
- –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ warming (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 8. üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### Vercel Dashboard:
- **Functions**: https://vercel.com/akaikages-projects/echoes-on-tape/functions
  - –õ–æ–≥–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –û—à–∏–±–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
  
- **Analytics**: https://vercel.com/akaikages-projects/echoes-on-tape/analytics
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
  - –ì–µ–æ–≥—Ä–∞—Ñ–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

#### –ß—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:
- [ ] Response time < 1 —Å–µ–∫
- [ ] Error rate < 1%
- [ ] Database connections –Ω–µ —É—Ç–µ–∫–∞—é—Ç
- [ ] Memory usage < 512 MB

### 9. üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

#### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- [ ] –û—Ç–∫–ª—é—á–∏—Ç–µ Vercel Authentication (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ JWT_SECRET —Å–∏–ª—å–Ω—ã–π
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ .env —Ñ–∞–π–ª—ã –≤ .gitignore
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ rate limiting (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### Vercel Authentication:
https://vercel.com/akaikages-projects/echoes-on-tape/settings/deployment-protection
- –î–ª—è production: Disabled
- –î–ª—è preview: Enabled (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 10. üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º –∑–∞–∫–∞–∑—á–∏–∫—É:

#### Frontend:
- [ ] –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –î–∏–∑–∞–π–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –±—ã—Å—Ç—Ä–∞—è

#### Backend:
- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Refresh tokens —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ < 2 —Å–µ–∫
- [ ] API –∑–∞–ø—Ä–æ—Å—ã < 1 —Å–µ–∫
- [ ] –ù–µ—Ç memory leaks

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–µ—Å–ª–∏ –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Vercel
# 2. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
vercel env pull .env.production.local
cd backend && npx prisma migrate deploy

# 3. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ
git push origin main

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
curl https://echoes-on-tape.vercel.app/api/
```

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard ‚Üí Functions
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

**–í—Ä–µ–º—è –ø–æ–ª–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 10-15 –º–∏–Ω—É—Ç
**–°—Ç–æ–∏–º–æ—Å—Ç—å:** –ë–µ—Å–ø–ª–∞—Ç–Ω–æ (Free Tier)

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø–æ–∫–∞–∑—É –∑–∞–∫–∞–∑—á–∏–∫—É!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS
- ‚úÖ Backend API —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã

**URL –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞:** https://echoes-on-tape.vercel.app
